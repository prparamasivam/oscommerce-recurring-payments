<?php
/*
  $Id$

  osCommerce, Open Source E-Commerce Solutions
  http://www.oscommerce.com

  Copyright (c) 2014 osCommerce

  Released under the GNU General Public License
*/

  class hook_admin_orders_mother_goose {
    function listen_orderTab() {
      global $HTTP_GET_VARS;

      $tab_link = substr(tep_href_link(FILENAME_ORDERS, tep_get_all_get_params()), strlen($base_url)) . '#section_mother_goose';
      $tab_button = tep_draw_button('Show Me', null, tep_href_link(FILENAME_ORDERS, 'page=' . $HTTP_GET_VARS['page'] . '&oID=' . $HTTP_GET_VARS['oID'] . '&tabaction=motherGoose'));

      $output = <<<EOD
<script>
$(function() {
  $('#orderTabs ul').append('<li><a href="{$tab_link}">Mother Goose</a></li>');
});
</script>

<div id="section_mother_goose" style="padding: 10px;">
  <p>Hey diddle diddle,<br />The Cat and the fiddle,<br />The Cow jumped over the moon.<br />The little Dog laughed,<br />To see such sport,<br />And the Dish ran away with the Spoon.</p>

  <p>{$tab_button}</p>
</div>
EOD;

      return $output;
    }

    function listen_orderAction() {
      global $HTTP_GET_VARS;

      if ( isset($HTTP_GET_VARS['tabaction']) && ($HTTP_GET_VARS['tabaction'] == 'motherGoose') ) {
        echo '<img src="data:image/jpg;base64,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" /><br />' .
             tep_draw_button('Back', null, tep_href_link(FILENAME_ORDERS, 'page=' . $HTTP_GET_VARS['page'] . '&oID=' . $HTTP_GET_VARS['oID'] . '&action=edit'));

        exit;
      }
    }
  }
?>
